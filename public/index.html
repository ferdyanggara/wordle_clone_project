<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
</head>
<body>

    <div id="header" class="row">
        <div id="title">Wordle
            <span class="material-icons"></span>
        </div>

        <div class="spacer-grow"></div>

        <div id="user-panel" class="row">
            <div class="field-content row shadow">
                <span class="user-name">-</span>
            </div>
            <button id="signout-button" class="icon"><span class="material-icons">logout</span></button>
        </div>
    </div>

    <h1> Wordle Clone </h1>
    
    <div id="test" class="my-10">
        <!-- <div>
            <b> Login Name </b>
            <input type="text" id="name"/>
        </div> -->
        <!-- <div>
            <button id="name-submit">Submit name</button>
        </div> -->
        <!-- <div>
            <b> Game Id</b>
            <input type="text" id="game"/>
        </div>
        <div>
            <button id="start-submit">start game</button>
            <button id="join-submit">join game</button>
        </div> -->
        <div class="flex">
            <p>Submit word game test</p>
            <input type="text" id="word" class="mx-10" />
            <button id="submit-words">Words</button>
        </div>
        <div class="flex">
            <p class="mx-10"> Full setup - Steven gameId - 1</p>
            <button id="full-setup">Setup</button>           
        </div>
        <div class="flex">
            <p>Instructions:</p>
            <ol>
                <li>Type the word with your keyboard or the provided keyboard bellow.</li>
                <li>Press ENTER to submit the word.</li>
            </ol>         
        </div>
    </div> 
    
    <div class="flex" style="align-items: flex-start">
        <div>
            <div id="game-board">
                <h2>Your Board</h2>
                <!-- in logic.js -->
            </div>

            <div id="keyboard-cont">
                <div class="first-row">
                    <button class="keyboard-button">q</button>
                    <button class="keyboard-button">w</button>
                    <button class="keyboard-button">e</button>
                    <button class="keyboard-button">r</button>
                    <button class="keyboard-button">t</button>
                    <button class="keyboard-button">y</button>
                    <button class="keyboard-button">u</button>
                    <button class="keyboard-button">i</button>
                    <button class="keyboard-button">o</button>
                    <button class="keyboard-button">p</button>
                </div>
                <div class="second-row">
                    <button class="keyboard-button">a</button>
                    <button class="keyboard-button">s</button>
                    <button class="keyboard-button">d</button>
                    <button class="keyboard-button">f</button>
                    <button class="keyboard-button">g</button>
                    <button class="keyboard-button">h</button>
                    <button class="keyboard-button">j</button>
                    <button class="keyboard-button">k</button>
                    <button class="keyboard-button">l</button>
                </div>
                <div class="third-row">
                    <button class="keyboard-button">Del</button>
                    <button class="keyboard-button">z</button>
                    <button class="keyboard-button">x</button>
                    <button class="keyboard-button">c</button>
                    <button class="keyboard-button">v</button>
                    <button class="keyboard-button">b</button>
                    <button class="keyboard-button">n</button>
                    <button class="keyboard-button">m</button>
                    <button class="keyboard-button">Enter</button>
                </div>
            </div>
        </div>

        <div id="opponent-board">
            <h2>Opponent's Board</h2>
            <!-- in logic.js -->
        </div>
    </div>

    <div id="intro-overlay" class="overlay row">
        <div class="content shadow row">
                <div class="caption">Guess the WORDLE in six tries.
                    Each guess must be a valid five-letter word. Hit the enter button to submit.
                    After each guess, the color of the tiles will change to show how close your
                    guess was to the word.</div>
                <div class="spacer-grow"></div>
                <button id="intro-close">
                    <span class="material-icons">close</span>
                </button>
        </div>
    </div>



    <div id="matchmaking-overlay" class="overlay row">
        <div class="content shadow row">
            <form id="matchmaking-form" class="col">
                <div class="caption">START MATCHMAKING</div>
                <div class="spacer-0"></div>
                <button id='createGame'>Create Game</button>
                <button id='quickJoin'>Quick Join</button>
                <div>   
                    <div class="row">
                        <!-- already under matchmaking-form -->
                            <input id='roomId' type="number" placeholder="Game Id">
                            <button type="submit">Join Game</button>
                    </div>
                </form>
                </div>
                <div id="matchmaking-message" class="warning center"></div>
                <!-- <div class="spacer-grow"></div> -->
            </form>
        </div>
    </div>


    <div id="signin-overlay" class="overlay row">
        <div class="content shadow row">
            <form id="signin-form" class="col">
                <div class="caption">SIGN IN WITH YOUR ACCOUNT</div>
                <div class="spacer-0"></div>
                <input id="signin-username" placeholder="Enter your username"></input>
                <input id="signin-password" type="password" placeholder="Enter your password"></input>
                <div class="spacer-0"></div>
                <button type="submit">Sign In</button>
                <div id="signin-message" class="warning center"></div>
                <div class="spacer-grow"></div>
            </form>

            <div class="spacer-0"></div>

            <form id="register-form" class="col">
                <div class="caption">OR, REGISTER IF YOU DO NOT HAVE ONE</div>
                <div class="spacer-0"></div>
                <input id="register-username" maxlength="10" placeholder="Enter your username"></input>
                <input id="register-name" maxlength="16" placeholder="Enter your name"></input>
                <input id="register-password" type="password" placeholder="Enter your password"></input>
                <input id="register-confirm" type="password" placeholder="Enter your password again"></input>
                <div class="spacer-0"></div>
                <button type="submit">Register</button>
                <div id="register-message" class="warning center"></div>
            </form>
        </div>
    </div>
    
 

<script
src="https://code.jquery.com/jquery-3.6.0.min.js"
integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
crossorigin="anonymous"></script>
<script src="/socket.io/socket.io.min.js"></script>
<script src="scripts/socket.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="./scripts/logic.js" type="module"></script>
<script src="scripts/ui.js"></script>
<script src="scripts/registration.js"></script>
<script src="scripts/authentication.js"></script>
<script>
$(document).ready(function() {
    let currentName;
        let currentGameId;
        let socket;
        

        $('#start-submit').click( (e) => {
            e.preventDefault();
            console.log("start submit")
            fetch("/startGame", {
            method : "POST",
            headers: {
                'Content-Type': 'application/json'
              },
            body :  JSON.stringify({
                gameId : $('#game').val()
            })
            })
            .then( value => {
                console.log(value);
            })
        })

        $('#leave-submit').click( (e) => {
            e.preventDefault();
            console.log("game submit")
            fetch("/leaveGame", {
            method : "POST",
            headers: {
                'Content-Type': 'application/json'
              },
            body :  JSON.stringify({
                gameId : $('#game').val()
            })
            })
            .then( res => res.json())
            .then( value => {
                console.log(value);
            })
        })


        $("#submit-words").click( e => {
            e.preventDefault()
            console.log("words clicked")
            console.log($("#word").val())
            socket.emit("word-sent", $("#word").val());
        })

        

    // Initialize the UI
    UI.initialize();
    // SignInForm.hide();
  
    // Validate the signin
    Authentication.validate(
        () => {
            SignInForm.hide();
            UserPanel.update(Authentication.getUser());
            UserPanel.show();
  
            Socket.connect();
        },
        () => { 
            console.log('go erros so i show project introduction after restart')
            
            ProjectIntroduction.show(); }
    );
  });
</script>
</body>
</html>